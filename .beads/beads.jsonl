{"id":"tocoe-0hc","title":"Implement an OpenLibrary scans browser to identify table of contents pages, for later OCRing","description":"## Overview\n\nImplement an OpenLibrary scans browser to identify table of contents pages, for later OCRing\n\n## Success Criteria\n\n- [ ] OpenLibrary book page images are browsable by users\n- [ ] Users can mark any number of specific pages (recording the direct URLs of their images) as containing tables of contents\n- [ ] Users can also check a box indicating \"no explicit table of contents\"\n- [ ] Toc entities start as new. Once TOC pages have been marked OR \"no explicit table of contents\" has been marked and the form submitted, change their status to 'pages_marked'\n\n## Background\n\nToc entities in status 'pages_marked' are ready for OCR or transcription of their tables of contents.\n\n## Scope\n\n**In Scope:**\n- New toc view\n- Edit toc view\n\n**Out of Scope:**\n- OCR process\n","design":"## Architecture\n\n[Describe the overall architecture and approach]\n\n## Components\n\n- Component 1: [description]\n- Component 2: [description]\n\n## Dependencies\n\n[List external dependencies or constraints]\n","acceptance_criteria":"- [ ] All child issues are completed\n- [ ] Integration tests pass\n- [ ] Documentation is updated\n- [ ] Code review completed\n","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T22:24:25.28820326+02:00","updated_at":"2025-11-27T00:47:16.903484724+02:00","closed_at":"2025-11-27T00:47:16.903484724+02:00","labels":["epic"]}
{"id":"tocoe-0oz","title":"Add a placeholder logo at the top left of the general layout, as a universal link to the app home page","description":"For now the logo can just be a graphic of the string 'ToCoE' in a stylized, whimsical font of some sort.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T06:48:59.391020724+02:00","updated_at":"2025-11-27T10:25:07.73882716+02:00","closed_at":"2025-11-27T10:25:07.73882716+02:00"}
{"id":"tocoe-0xr","title":"Implement Library of Congress Subject Headings API client","description":"Create a service class (lib/subject_headings/lcsh_client.rb) to search Library of Congress Subject Headings. The client should support searching by keyword and return results with URI and label. Use the LoC Linked Data Service API (id.loc.gov). Include RSpec tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:43:57.094727722+02:00","updated_at":"2025-11-26T21:53:10.778841482+02:00","closed_at":"2025-11-26T21:53:10.778841482+02:00"}
{"id":"tocoe-142","title":"Implement Wikidata subject headings API client","description":"Create a service class (lib/subject_headings/wikidata_client.rb) to search Wikidata items. The client should support searching by keyword and return results with Wikidata URI (Q-number) and label. Use the Wikidata Query Service or Search API. Include RSpec tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:44:03.640334576+02:00","updated_at":"2025-11-26T21:54:49.702835498+02:00","closed_at":"2025-11-26T21:54:49.702835498+02:00"}
{"id":"tocoe-1vs","title":"Record when a Toc was marked transcribed and when it was marked verified.","description":"these timestamp fields should be updated during status change.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:48:42.17779107+02:00","updated_at":"2025-11-27T05:55:22.053495353+02:00","closed_at":"2025-11-27T05:55:22.053495353+02:00"}
{"id":"tocoe-1xa","title":"ensure button text is legible throughout","description":"currently some buttons have light gray text over dark background","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:08:03.951713761+02:00","updated_at":"2025-11-27T05:34:52.945179177+02:00","closed_at":"2025-11-27T05:34:52.945179177+02:00"}
{"id":"tocoe-22u","title":"replace the 'new toc' link in Tocs list with a link to Publications search","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T18:38:00.181770369+02:00","updated_at":"2025-11-27T18:42:04.02832659+02:00","closed_at":"2025-11-27T18:42:04.02832659+02:00"}
{"id":"tocoe-22y","title":"Support paging through publication search results","description":"## Feature Request\n\n[Describe the desired feature]\n\n## Motivation\n\n[Why is this feature needed? What problem does it solve?]\n\n## Use Cases\n\n1. **Use Case 1**: [description]\n2. **Use Case 2**: [description]\n\n## Proposed Solution\n\n[High-level approach to implementing this feature]\n\n## Alternatives Considered\n\n- **Alternative 1**: [description and why not chosen]\n- **Alternative 2**: [description and why not chosen]\n","design":"## Technical Design\n\n[Detailed technical approach]\n\n## API Changes\n\n[New commands, flags, or APIs]\n\n## Data Model Changes\n\n[Database schema changes if any]\n\n## Implementation Notes\n\n- Note 1\n- Note 2\n\n## Testing Strategy\n\n- Unit tests: [scope]\n- Integration tests: [scope]\n- Manual testing: [steps]\n","acceptance_criteria":"- [ ] Feature implements all described use cases\n- [ ] All tests pass\n- [ ] Documentation updated (README, commands)\n- [ ] Examples added if applicable\n- [ ] No performance regressions\n","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-27T10:50:51.074169186+02:00","updated_at":"2025-11-27T15:14:46.264707605+02:00","closed_at":"2025-11-27T15:14:46.264707605+02:00","labels":["feature"]}
{"id":"tocoe-2cf","title":"in Toc listing, only show the 'destroy' action to admins","description":"Also restrict the destroy action in the controller to admins","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T06:43:29.53717108+02:00","updated_at":"2025-11-27T06:48:05.375448794+02:00","closed_at":"2025-11-27T06:48:05.375448794+02:00"}
{"id":"tocoe-3dx","title":"Create Aboutnesses controller and routes","description":"Create app/controllers/aboutnesses_controller.rb with actions: index (list aboutnesses for an embodiment), new (select source and search), create (save selected aboutness), destroy (remove aboutness). Add routes to config/routes.rb. Nest routes under embodiments if appropriate. Include controller RSpec tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:44:11.809919119+02:00","updated_at":"2025-11-26T21:57:34.20072469+02:00","closed_at":"2025-11-26T21:57:34.20072469+02:00","dependencies":[{"issue_id":"tocoe-3dx","depends_on_id":"tocoe-ay7","type":"blocks","created_at":"2025-11-26T21:45:21.708786497+02:00","created_by":"daemon"}]}
{"id":"tocoe-3vg","title":"in tocs list, make the titles be the link to the toc, and remove the 'Show' link.","description":"Also, add an 'Actions' heading to the actions column in the table","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:05:52.64636669+02:00","updated_at":"2025-11-27T05:32:59.815618649+02:00","closed_at":"2025-11-27T05:32:59.815618649+02:00"}
{"id":"tocoe-421","title":"Write RSpec tests for scan browser functionality","description":"Write RSpec tests for:\n1. Model: toc_page_urls and no_explicit_toc validations\n2. Controller: browse_scans action, page marking, status transitions\n3. Integration: Full workflow from browsing to marking pages","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T22:33:41.575037704+02:00","updated_at":"2025-11-27T00:46:59.955176168+02:00","closed_at":"2025-11-27T00:46:59.955176168+02:00","dependencies":[{"issue_id":"tocoe-421","depends_on_id":"tocoe-n3z","type":"blocks","created_at":"2025-11-26T22:34:15.358001154+02:00","created_by":"daemon"},{"issue_id":"tocoe-421","depends_on_id":"tocoe-0hc","type":"parent-child","created_at":"2025-11-27T00:03:26.144194529+02:00","created_by":"daemon"}]}
{"id":"tocoe-480","title":"fix multi-select","description":"Â The latest commits broke the multi-select feature in the Publications search. Fix it, and then add Capybara-based tests verifying the multi-select functionality to ensure such regressions don't recur.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T10:57:09.443902536+02:00","updated_at":"2025-11-27T11:07:04.374742881+02:00","closed_at":"2025-11-27T11:07:04.374742881+02:00"}
{"id":"tocoe-4rf","title":"add mocking of authentication to test suite, to enable feature testing using Capybara","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T10:37:54.978634046+02:00","updated_at":"2025-11-27T10:42:12.909436785+02:00","closed_at":"2025-11-27T10:42:12.909436785+02:00"}
{"id":"tocoe-4sx","title":"Update tocs/show view to restrict contributor/reviewer to admins and show names","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:47:13.996141292+02:00","updated_at":"2025-11-27T05:47:52.974081248+02:00","closed_at":"2025-11-27T05:47:52.974081248+02:00","dependencies":[{"issue_id":"tocoe-4sx","depends_on_id":"tocoe-i8x","type":"blocks","created_at":"2025-11-27T05:47:27.631592492+02:00","created_by":"daemon"}]}
{"id":"tocoe-5cs","title":"Attempt auto-match button does nothing in edit form. Fix it.","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T20:43:19.863621526+02:00","updated_at":"2025-11-27T20:55:07.064860146+02:00","closed_at":"2025-11-27T20:55:07.064860146+02:00"}
{"id":"tocoe-5j2","title":"fix publication multi-select","description":"The multi-select button no longer shows the checkboxes to the left of each result. It is also no longer aligned with the Search button, instead appearing below it.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T11:08:18.229918998+02:00","updated_at":"2025-11-27T11:18:04.717017243+02:00","closed_at":"2025-11-27T11:18:04.717017243+02:00"}
{"id":"tocoe-6f3","title":"modify the ToCoE logo svg","description":"so that it is on the backdrop of the Ukrainian flag (blue over yellow bars), and the ToCoE letters are in white with a three-pixel border for contrast","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T07:02:01.643155549+02:00","updated_at":"2025-11-27T10:47:36.935905413+02:00","closed_at":"2025-11-27T10:47:36.935905413+02:00"}
{"id":"tocoe-6ht","title":"Disallow the Toc contributing user to be the one verifying the Toc","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T06:40:03.928762798+02:00","updated_at":"2025-11-27T06:43:30.079963943+02:00","closed_at":"2025-11-27T06:43:30.079963943+02:00"}
{"id":"tocoe-6xq","title":"add to homepage a button to view existing Tocs","description":"By default, show Tocs with statuses other than verified.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T04:58:02.763495179+02:00","updated_at":"2025-11-27T05:03:34.720191887+02:00","closed_at":"2025-11-27T05:03:34.720191887+02:00"}
{"id":"tocoe-8zq","title":"Add support for Publication searches of Project Gutenberg texts","description":"## Overview\n\nWe want users to be able to make TOCs for publications in Project Gutenberg as well. (Until now, only the Open Library was supported as a source.)\n\n## Success Criteria\n\n- [ ] Users can select a source to query before searching for publications. In addition to the Open Library, Project Gutenberg should be listed as an option now.\n- [ ] Search Project Gutenberg using an instance of Gutendex. The constants.yml (example in constants.yml.example file) file should now contain variables pointing to the Gutendex public API URL.\n- [ ] When a Project Gutenberg text is selected, create a ToC for it with status 'empty'. Support multi-selecting titles to make ToCs for, as with Open Library. Record the full-te\n- [ ] When viewing a Toc based on a Project Gutenberg text, instead of browsing scans, offer to browse the fulltext content (defaulting to HTML, falling back to plaintext). The URLs are in the 'formats' key in the Book JSON returned by the Gutendex API. The fulltext view should open to the right of the TOC transcription textarea, and have limited height, with a vertical scrollbar.\n- [ ] Mock the Gutendex API for tests\n\n## Background\n\n- the Gutendex API is described here: https://raw.githubusercontent.com/garethbjohnson/gutendex/refs/heads/master/readme.md\n\n## Scope\n\n**Out of Scope:**\n- setting up the Gutendex API server\n","design":"## Architecture\n\n[Describe the overall architecture and approach]\n\n## Components\n\n- Component 1: [description]\n- Component 2: [description]\n\n## Dependencies\n\n[List external dependencies or constraints]\n","acceptance_criteria":"- [ ] All child issues are completed\n- [ ] Integration tests pass\n- [ ] Documentation is updated\n- [ ] Code review completed\n","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-27T06:23:52.146671989+02:00","updated_at":"2025-11-27T15:41:33.476811604+02:00","closed_at":"2025-11-27T15:41:33.476811604+02:00","labels":["epic"]}
{"id":"tocoe-8zq.1","title":"Add Gutendex API client library","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T15:25:41.718664225+02:00","updated_at":"2025-11-27T15:28:01.865599924+02:00","closed_at":"2025-11-27T15:28:01.865599924+02:00","dependencies":[{"issue_id":"tocoe-8zq.1","depends_on_id":"tocoe-8zq","type":"parent-child","created_at":"2025-11-27T15:25:41.721260205+02:00","created_by":"daemon"},{"issue_id":"tocoe-8zq.1","depends_on_id":"tocoe-8zq.2","type":"blocks","created_at":"2025-11-27T15:26:41.333093637+02:00","created_by":"daemon"}]}
{"id":"tocoe-8zq.2","title":"Add gutendex_api_url to constants.yml","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T15:25:41.92737806+02:00","updated_at":"2025-11-27T15:27:24.380247122+02:00","closed_at":"2025-11-27T15:27:24.380247122+02:00","dependencies":[{"issue_id":"tocoe-8zq.2","depends_on_id":"tocoe-8zq","type":"parent-child","created_at":"2025-11-27T15:25:41.930034164+02:00","created_by":"daemon"}]}
{"id":"tocoe-8zq.3","title":"Add source selection UI to publications search","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T15:25:42.150137271+02:00","updated_at":"2025-11-27T15:30:57.962615108+02:00","closed_at":"2025-11-27T15:30:57.962615108+02:00","dependencies":[{"issue_id":"tocoe-8zq.3","depends_on_id":"tocoe-8zq","type":"parent-child","created_at":"2025-11-27T15:25:42.152955543+02:00","created_by":"daemon"},{"issue_id":"tocoe-8zq.3","depends_on_id":"tocoe-8zq.4","type":"blocks","created_at":"2025-11-27T15:26:41.698057492+02:00","created_by":"daemon"}]}
{"id":"tocoe-8zq.4","title":"Update PublicationsController to support multiple sources","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T15:25:42.371846475+02:00","updated_at":"2025-11-27T15:28:58.560641535+02:00","closed_at":"2025-11-27T15:28:58.560641535+02:00","dependencies":[{"issue_id":"tocoe-8zq.4","depends_on_id":"tocoe-8zq","type":"parent-child","created_at":"2025-11-27T15:25:42.374095765+02:00","created_by":"daemon"},{"issue_id":"tocoe-8zq.4","depends_on_id":"tocoe-8zq.1","type":"blocks","created_at":"2025-11-27T15:26:41.519668265+02:00","created_by":"daemon"}]}
{"id":"tocoe-8zq.5","title":"Add ToC creation support for Project Gutenberg books","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T15:25:42.612127228+02:00","updated_at":"2025-11-27T15:32:01.695456694+02:00","closed_at":"2025-11-27T15:32:01.695456694+02:00","dependencies":[{"issue_id":"tocoe-8zq.5","depends_on_id":"tocoe-8zq","type":"parent-child","created_at":"2025-11-27T15:25:42.615107415+02:00","created_by":"daemon"},{"issue_id":"tocoe-8zq.5","depends_on_id":"tocoe-8zq.4","type":"blocks","created_at":"2025-11-27T15:26:41.729856259+02:00","created_by":"daemon"}]}
{"id":"tocoe-8zq.6","title":"Add fulltext browsing for Gutenberg ToCs","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T15:25:42.884748445+02:00","updated_at":"2025-11-27T15:33:13.663506721+02:00","closed_at":"2025-11-27T15:33:13.663506721+02:00","dependencies":[{"issue_id":"tocoe-8zq.6","depends_on_id":"tocoe-8zq","type":"parent-child","created_at":"2025-11-27T15:25:42.887789608+02:00","created_by":"daemon"},{"issue_id":"tocoe-8zq.6","depends_on_id":"tocoe-8zq.5","type":"blocks","created_at":"2025-11-27T15:26:41.915231826+02:00","created_by":"daemon"}]}
{"id":"tocoe-8zq.7","title":"Add RSpec tests and Gutendex API mocks","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T15:25:43.148988568+02:00","updated_at":"2025-11-27T15:41:33.33065313+02:00","closed_at":"2025-11-27T15:41:33.33065313+02:00","dependencies":[{"issue_id":"tocoe-8zq.7","depends_on_id":"tocoe-8zq","type":"parent-child","created_at":"2025-11-27T15:25:43.152086678+02:00","created_by":"daemon"},{"issue_id":"tocoe-8zq.7","depends_on_id":"tocoe-8zq.3","type":"blocks","created_at":"2025-11-27T15:26:42.130005906+02:00","created_by":"daemon"},{"issue_id":"tocoe-8zq.7","depends_on_id":"tocoe-8zq.6","type":"blocks","created_at":"2025-11-27T15:26:42.167024658+02:00","created_by":"daemon"}]}
{"id":"tocoe-9jk","title":"make Tocs list sortable","description":"make it sortable by status, creation date, title, contributor, and reviewer, in both ascending and descending order","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T18:00:33.047050255+02:00","updated_at":"2025-11-27T18:04:11.267775718+02:00","closed_at":"2025-11-27T18:04:11.267775718+02:00"}
{"id":"tocoe-9nq","title":"add a link back to the Toc from the aboutnesses view","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:58:07.871752144+02:00","updated_at":"2025-11-27T06:02:33.060024642+02:00","closed_at":"2025-11-27T06:02:33.060024642+02:00"}
{"id":"tocoe-9uy","title":"add an admin flag and an editor flag to User model, both false by default","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:39:53.734133096+02:00","updated_at":"2025-11-27T05:44:28.709639984+02:00","closed_at":"2025-11-27T05:44:28.709639984+02:00"}
{"id":"tocoe-abh","title":"Write RSpec tests for ToC verification validation","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T06:40:48.927725915+02:00","updated_at":"2025-11-27T06:43:15.983056138+02:00","closed_at":"2025-11-27T06:43:15.983056138+02:00"}
{"id":"tocoe-aj2","title":"Update tocs/index view to restrict contributor/reviewer to admins and show names","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:47:14.106955752+02:00","updated_at":"2025-11-27T05:48:11.347677854+02:00","closed_at":"2025-11-27T05:48:11.347677854+02:00","dependencies":[{"issue_id":"tocoe-aj2","depends_on_id":"tocoe-i8x","type":"blocks","created_at":"2025-11-27T05:47:27.749259322+02:00","created_by":"daemon"}]}
{"id":"tocoe-asb","title":"limit OCR results element height, and move 'paste to TOC textarea' button up near the 'attempt OCR' button","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T03:58:10.017156209+02:00","updated_at":"2025-11-27T03:59:24.436581352+02:00","closed_at":"2025-11-27T03:59:24.436581352+02:00"}
{"id":"tocoe-axh","title":"Create scan browser UI and controller actions","description":"Create:\n1. New controller action 'browse_scans' or similar to fetch and display page images\n2. View template with:\n   - Gallery/grid of page thumbnails\n   - Checkboxes to mark pages containing TOC\n   - Display page numbers\n   - 'No explicit table of contents' checkbox\n   - Submit button\n3. Handle AJAX or pagination for large books","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T22:33:31.194328528+02:00","updated_at":"2025-11-27T00:43:06.442871244+02:00","closed_at":"2025-11-27T00:43:06.442871244+02:00","dependencies":[{"issue_id":"tocoe-axh","depends_on_id":"tocoe-k7o","type":"blocks","created_at":"2025-11-26T22:34:15.244093347+02:00","created_by":"daemon"},{"issue_id":"tocoe-axh","depends_on_id":"tocoe-0hc","type":"parent-child","created_at":"2025-11-27T00:03:26.122691856+02:00","created_by":"daemon"}]}
{"id":"tocoe-ay7","title":"Create Aboutness model and migration","description":"Create the Aboutness model to link embodiments to subject headings. The model should have: embodiment_id (integer), subject_heading_uri (string), source_name (string - e.g., 'LCSH', 'Wikidata'), subject_heading_label (string - cached label for display). Include database migration, model file with associations, and RSpec tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:43:35.578000586+02:00","updated_at":"2025-11-26T21:49:04.003647376+02:00","closed_at":"2025-11-26T21:49:04.003647376+02:00"}
{"id":"tocoe-bbb","title":"Add a homepage view and require login to access any other view.","description":"The homepage should include a summary of the purpose of the project as explained here: https://meta.wikimedia.org/wiki/Massively-Multiplayer_Online_Bibliography","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T04:12:21.322100346+02:00","updated_at":"2025-11-27T04:36:05.345371157+02:00","closed_at":"2025-11-27T04:36:05.345371157+02:00"}
{"id":"tocoe-cau","title":"in Toc editing, add button confirming Toc is ready","description":"in Toc viewing of a Toc in 'pages_marked' status, add button confirming Toc is ready. Pressing it records the current user as the contributor (foreign key contributor_id) and changes the Toc status to 'transcribed'.\nFor a Toc in 'transcribed' status, add a button verifying the transcription is correct. Pressing it records the current user as the verifier (foreign key verifier_id) and changes the Toc status to 'verified'.\n\n","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T04:06:11.925752923+02:00","updated_at":"2025-11-27T04:56:13.570205562+02:00","closed_at":"2025-11-27T04:56:13.570205562+02:00","dependencies":[{"issue_id":"tocoe-cau","depends_on_id":"tocoe-bbb","type":"blocks","created_at":"2025-11-27T04:13:13.614400608+02:00","created_by":"daemon"}]}
{"id":"tocoe-cit","title":"implement the create_multiple_tocs handler","description":"Clicking the button should create Toc entities for all these publications (in status 'empty') and then redirect to the Tocs list (defaulting to showing Tocs in status 'empty', sorted by descending date of creation.\n\n","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T09:39:33.535410219+02:00","updated_at":"2025-11-27T10:28:23.45916204+02:00","closed_at":"2025-11-27T10:28:23.45916204+02:00"}
{"id":"tocoe-cnz","title":"in Toc view, move the 'browse scans' button to the top area","description":"Also move the Edit and Back buttons up.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T06:07:42.06525355+02:00","updated_at":"2025-11-27T06:10:40.633273983+02:00","closed_at":"2025-11-27T06:10:40.633273983+02:00"}
{"id":"tocoe-cuy","title":"only show the paste to TOC textarea button if and when OCR returned results","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T04:01:34.676667873+02:00","updated_at":"2025-11-27T04:03:04.270018493+02:00","closed_at":"2025-11-27T04:03:04.270018493+02:00"}
{"id":"tocoe-di9","title":"fix the failing spec in wikidata_client_spec","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:06:28.059050369+02:00","updated_at":"2025-11-27T05:29:45.752821356+02:00","closed_at":"2025-11-27T05:29:45.752821356+02:00"}
{"id":"tocoe-e9v","title":"Implement get_ocr_from_service with tesseract and REST API options","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-26T20:57:15.272198422+02:00","updated_at":"2025-11-26T21:04:46.470802007+02:00","closed_at":"2025-11-26T21:04:46.470802007+02:00"}
{"id":"tocoe-ec6","title":"Write RSpec tests for admin-only contributor/reviewer display","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:47:14.234005161+02:00","updated_at":"2025-11-27T05:50:49.572492077+02:00","closed_at":"2025-11-27T05:50:49.572492077+02:00","dependencies":[{"issue_id":"tocoe-ec6","depends_on_id":"tocoe-i8x","type":"blocks","created_at":"2025-11-27T05:47:27.871808519+02:00","created_by":"daemon"}]}
{"id":"tocoe-enb","title":"Implement associating embodiments with aboutnesses","description":"Implement a view allowing the user to associate a selected Embodiment with any number of Aboutnesses. Aboutnesses are entities linking one embodiment ID to one subject heading ID from one subject heading source.\n\nFor example, the book Moby Dick could be associated with a subject heading \"Whales\" from the source \"Library of Congress Subject Headings\", identified by the URI: https://lccn.loc.gov/sh85146357\n\nOffer the user a selection of cataloging sources, including for a start: 1. Library of Congress Subject Headings and 2. Wikidata items\n\nOnce a user selects a source, allow the user to input a search string, run the search against the cataloging source, and offer results for the user to select. Once the user makes a selection, create an Aboutness entity recording the link between the embodiment and the subject heading.\n","design":"## Architecture\n\n[Describe the overall architecture and approach]\n\n## Components\n\n- Component 1: [description]\n- Component 2: [description]\n\n## Dependencies\n\n[List external dependencies or constraints]\n","acceptance_criteria":"- [ ] All child issues are completed\n- [ ] Integration tests pass\n- [ ] Documentation is updated\n- [ ] Code review completed\n","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-26T21:03:11.615661878+02:00","updated_at":"2025-11-26T22:00:05.594511487+02:00","closed_at":"2025-11-26T22:00:05.594511487+02:00","labels":["epic"],"dependencies":[{"issue_id":"tocoe-enb","depends_on_id":"tocoe-ay7","type":"blocks","created_at":"2025-11-26T21:45:21.262053478+02:00","created_by":"daemon"},{"issue_id":"tocoe-enb","depends_on_id":"tocoe-0xr","type":"blocks","created_at":"2025-11-26T21:45:21.297686241+02:00","created_by":"daemon"},{"issue_id":"tocoe-enb","depends_on_id":"tocoe-142","type":"blocks","created_at":"2025-11-26T21:45:21.336632315+02:00","created_by":"daemon"},{"issue_id":"tocoe-enb","depends_on_id":"tocoe-3dx","type":"blocks","created_at":"2025-11-26T21:45:21.37220909+02:00","created_by":"daemon"},{"issue_id":"tocoe-enb","depends_on_id":"tocoe-ubh","type":"blocks","created_at":"2025-11-26T21:45:21.410281385+02:00","created_by":"daemon"},{"issue_id":"tocoe-enb","depends_on_id":"tocoe-f93","type":"blocks","created_at":"2025-11-26T21:45:21.445593398+02:00","created_by":"daemon"}]}
{"id":"tocoe-f93","title":"Add aboutness management to embodiment/manifestation views","description":"Integrate the aboutness UI into existing manifestation or embodiment detail views. Add a section to display and manage aboutnesses for a selected embodiment. Include links to add/remove aboutnesses. Update existing views to incorporate the new functionality.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:44:26.153158828+02:00","updated_at":"2025-11-26T21:59:47.435454099+02:00","closed_at":"2025-11-26T21:59:47.435454099+02:00","dependencies":[{"issue_id":"tocoe-f93","depends_on_id":"tocoe-ubh","type":"blocks","created_at":"2025-11-26T21:45:21.858712591+02:00","created_by":"daemon"}]}
{"id":"tocoe-i0x","title":"Import subject headings from Gutendex where available","description":"## Feature Request\n\nWhen requesting a particular book's information from the Gutendex API, the results may include subject headings (in an array under the 'subjects' key). Import all such subject headings into a new text field on Toc, and during Toc editing, show imported subject heading strings alongside the publication subject headings of the Toc. Include a button named 'Attempt auto-match'. When clicked, run each subject heading (first gsub all ' -- ' into '--', to match Library of Congress norms) against the Library of Congress subject heading API to look for matches. Automatically add an aboutness for any EXACT match, and show an interface inviting the user to either accept or reject other matches, if no precise match is found. An accepted match should create an Aboutness linking to that LCSH. When an Aboutness is created, either automatically from an exact match or by user selection, the text subject heading that started the search should be removed from the text field, leaving only the other imported subject headings for later consideration.\n\nAll this is relevant only at the whole-Toc (publication) level, not the included manifestations.\n\n## Motivation\n\nThis saves user time by importing subject headings already available in Project Gutenberg.\n\n","design":"## Technical Design\n\n[Detailed technical approach]\n\n## API Changes\n\n[New commands, flags, or APIs]\n\n## Data Model Changes\n\n[Database schema changes if any]\n\n## Implementation Notes\n\n- Note 1\n- Note 2\n\n## Testing Strategy\n\n- Unit tests: [scope]\n- Integration tests: [scope]\n- Manual testing: [steps]\n","acceptance_criteria":"- [ ] Feature implements all described use cases\n- [ ] All tests pass\n- [ ] Documentation updated (README, commands)\n- [ ] Examples added if applicable\n- [ ] No performance regressions\n","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-27T19:18:56.691746019+02:00","updated_at":"2025-11-27T19:55:22.504396853+02:00","closed_at":"2025-11-27T19:55:22.504396853+02:00","labels":["feature"]}
{"id":"tocoe-i8x","title":"only show contributor and verifier information to admins","description":"when showing the information, show the user's name rather than the ID of the foreign key","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:40:31.177234445+02:00","updated_at":"2025-11-27T05:50:49.68211291+02:00","closed_at":"2025-11-27T05:50:49.68211291+02:00","dependencies":[{"issue_id":"tocoe-i8x","depends_on_id":"tocoe-9uy","type":"blocks","created_at":"2025-11-27T05:40:41.966636113+02:00","created_by":"daemon"}]}
{"id":"tocoe-iyq","title":"Toc editing of a Gutendex title fails","description":"calling get_authors with the book URI doesn't work. Instead, store the book_data in the Toc object when importing from Gutendex, and in subsequent calls such as #edit, populate @authors from the book_data rather than by network request","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T20:12:08.23574413+02:00","updated_at":"2025-11-27T20:16:13.804407556+02:00","closed_at":"2025-11-27T20:16:13.804407556+02:00"}
{"id":"tocoe-izk","title":"in Wikidata search results, make the Wikidata URL a clickable link to a separate tab","description":"this is to help users determine the correct item in case of ambiguity","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:56:54.689744036+02:00","updated_at":"2025-11-27T05:59:33.720006812+02:00","closed_at":"2025-11-27T05:59:33.720006812+02:00"}
{"id":"tocoe-k7o","title":"Research and implement OpenLibrary/IA scans API integration","description":"Research how to:\n1. Get Internet Archive identifier from OpenLibrary book ID\n2. Fetch list of available page scans\n3. Construct image URLs for each page\n4. Handle pagination/metadata\n\nAdd methods to OpenLibrary::Client or new service class.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T22:33:23.117913003+02:00","updated_at":"2025-11-27T00:11:27.825208518+02:00","closed_at":"2025-11-27T00:11:27.825208518+02:00","dependencies":[{"issue_id":"tocoe-k7o","depends_on_id":"tocoe-0hc","type":"parent-child","created_at":"2025-11-27T00:03:26.111495749+02:00","created_by":"daemon"}]}
{"id":"tocoe-lu4","title":"A newly created Toc from Project Gutenberg should show fulltext, not the browse scans button","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-27T20:44:00.817022496+02:00","updated_at":"2025-11-27T20:44:00.817022496+02:00"}
{"id":"tocoe-mc8","title":"Prepare for I18n of app","description":"extract all string literals into standard Rails I18n YAML files for English. Also update the AGENTS.md and CLAUDE.md and Copilot instruction files to avoid user-visible messages as string literals in any future code, instead adding entries to the locale files and using those.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:10:47.859087127+02:00","updated_at":"2025-11-27T05:26:55.034161898+02:00","closed_at":"2025-11-27T05:26:55.034161898+02:00"}
{"id":"tocoe-n3z","title":"Update TOC controller to handle page marking and status transitions","description":"Update TocsController to:\n1. Save marked page URLs to toc.toc_page_urls\n2. Save no_explicit_toc flag\n3. Transition toc.status from 'new' to 'pages_marked' when form submitted\n4. Add validation: must have either marked pages OR no_explicit_toc checked","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T22:33:36.563687967+02:00","updated_at":"2025-11-27T00:43:50.952084047+02:00","closed_at":"2025-11-27T00:43:50.952084047+02:00","dependencies":[{"issue_id":"tocoe-n3z","depends_on_id":"tocoe-p60","type":"blocks","created_at":"2025-11-26T22:34:15.282182423+02:00","created_by":"daemon"},{"issue_id":"tocoe-n3z","depends_on_id":"tocoe-axh","type":"blocks","created_at":"2025-11-26T22:34:15.321239353+02:00","created_by":"daemon"},{"issue_id":"tocoe-n3z","depends_on_id":"tocoe-0hc","type":"parent-child","created_at":"2025-11-27T00:03:26.133395786+02:00","created_by":"daemon"}]}
{"id":"tocoe-nzu","title":"in publication search, add a multi-select button","description":"clicking multi-select should add a checkbox next to each result, allowing the user to mark several results. When any results are marked, show a \"make ToCs for selected!\" button at the top of the list. Clicking it should create Toc entities for all these publications (in status 'empty') and then redirect to the Tocs list (defaulting to showing Tocs in status 'empty', sorted by descending date of creation.\n\n","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:00:20.548319209+02:00","updated_at":"2025-11-27T05:10:08.751053183+02:00","closed_at":"2025-11-27T05:10:08.751053183+02:00"}
{"id":"tocoe-o39","title":"allow the OAuth URLs to be accessed. The authentication hook in ApplicationController is preventing this.","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T04:47:58.571503611+02:00","updated_at":"2025-11-27T04:50:52.401072476+02:00","closed_at":"2025-11-27T04:50:52.401072476+02:00"}
{"id":"tocoe-p60","title":"Add database fields for TOC page URLs","description":"Add migration to add fields to tocs table:\n- toc_page_urls (text) - to store array/list of marked page image URLs\n- no_explicit_toc (boolean) - checkbox for 'no explicit table of contents'","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T22:33:17.269329449+02:00","updated_at":"2025-11-27T00:07:58.104484596+02:00","closed_at":"2025-11-27T00:07:58.104484596+02:00","dependencies":[{"issue_id":"tocoe-p60","depends_on_id":"tocoe-0hc","type":"parent-child","created_at":"2025-11-27T00:03:26.091155704+02:00","created_by":"daemon"}]}
{"id":"tocoe-plg","title":"Update CLAUDE.md with RSpec testing requirements","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:06:58.965308448+02:00","updated_at":"2025-11-26T21:08:03.021110714+02:00","closed_at":"2025-11-26T21:08:03.021110714+02:00"}
{"id":"tocoe-pt4","title":"Add contributor and reviewer associations to Toc model","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T05:47:13.859409461+02:00","updated_at":"2025-11-27T05:47:42.372731993+02:00","closed_at":"2025-11-27T05:47:42.372731993+02:00","dependencies":[{"issue_id":"tocoe-pt4","depends_on_id":"tocoe-i8x","type":"blocks","created_at":"2025-11-27T05:47:27.5270633+02:00","created_by":"daemon"}]}
{"id":"tocoe-sjz","title":"generalize get_authors to support Gutendex JSON as source","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T18:29:53.769606235+02:00","updated_at":"2025-11-27T18:35:39.26164546+02:00","closed_at":"2025-11-27T18:35:39.26164546+02:00"}
{"id":"tocoe-sn5","title":"filter out Publication search results that already exist in our database","description":"## Feature Request\n\nWhen showing publication search results, filter out items that already have Toc entities in the system.\n\n## Motivation\n\nThis helps avoid creating duplicate Toc entities, and contributes to users' sense of progress, as result lists for a given search term gradually shrink.\n\n","design":"## Technical Design\n\n[Detailed technical approach]\n\n## API Changes\n\n[New commands, flags, or APIs]\n\n## Data Model Changes\n\n[Database schema changes if any]\n\n## Implementation Notes\n\n- Note 1\n- Note 2\n\n## Testing Strategy\n\n- Unit tests: [scope]\n- Integration tests: [scope]\n- Manual testing: [steps]\n","acceptance_criteria":"- [ ] Feature implements all described use cases\n- [ ] All tests pass\n- [ ] Documentation updated (README, commands)\n- [ ] Examples added if applicable\n- [ ] No performance regressions\n","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-27T11:01:53.499867583+02:00","updated_at":"2025-11-27T11:45:01.934049974+02:00","closed_at":"2025-11-27T11:45:01.934049974+02:00","labels":["feature"]}
{"id":"tocoe-sy0","title":"in Toc view, show Toc markdown as HTML preview of hierarchical headings","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T06:00:55.238376722+02:00","updated_at":"2025-11-27T06:06:05.941312859+02:00","closed_at":"2025-11-27T06:06:05.941312859+02:00"}
{"id":"tocoe-t14","title":"only show 'Make TOCs for selected' button when multi-select mode is enabled.","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T09:23:26.378949603+02:00","updated_at":"2025-11-27T10:54:38.253080693+02:00","closed_at":"2025-11-27T10:54:38.253080693+02:00"}
{"id":"tocoe-ubg","title":"indicate work in progress when OCRing","description":"## Feature Request\n\nwhen selecting \"Attempt OCR\", disable the button and add a message indicating the system is working on it. When the results are ready, re-enable the button.\n\nAlso, in the display of the results, use a PRE tag to preserve the line breaks.\n \n","design":"## Technical Design\n\n[Detailed technical approach]\n\n## API Changes\n\n[New commands, flags, or APIs]\n\n## Data Model Changes\n\n[Database schema changes if any]\n\n## Implementation Notes\n\n- Note 1\n- Note 2\n\n## Testing Strategy\n\n- Unit tests: [scope]\n- Integration tests: [scope]\n- Manual testing: [steps]\n","acceptance_criteria":"- [ ] Feature implements all described use cases\n- [ ] All tests pass\n- [ ] Documentation updated (README, commands)\n- [ ] Examples added if applicable\n- [ ] No performance regressions\n","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-27T03:49:25.303516201+02:00","updated_at":"2025-11-27T03:56:08.539207+02:00","closed_at":"2025-11-27T03:56:08.539207+02:00","labels":["feature"]}
{"id":"tocoe-ubh","title":"Create aboutnesses UI views","description":"Create views in app/views/aboutnesses/: 1) _list.html.haml partial to show existing aboutnesses for an embodiment, 2) new.html.haml with source selection dropdown and search form, 3) _search_results.html.haml partial to display search results with selection. Use AJAX for search interactions. Include Haml templates following existing app patterns.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-26T21:44:19.482376115+02:00","updated_at":"2025-11-26T21:58:53.205650544+02:00","closed_at":"2025-11-26T21:58:53.205650544+02:00","dependencies":[{"issue_id":"tocoe-ubh","depends_on_id":"tocoe-3dx","type":"blocks","created_at":"2025-11-26T21:45:21.748417901+02:00","created_by":"daemon"},{"issue_id":"tocoe-ubh","depends_on_id":"tocoe-0xr","type":"blocks","created_at":"2025-11-26T21:45:21.785609954+02:00","created_by":"daemon"},{"issue_id":"tocoe-ubh","depends_on_id":"tocoe-142","type":"blocks","created_at":"2025-11-26T21:45:21.821927043+02:00","created_by":"daemon"}]}
{"id":"tocoe-w66","title":"Enhance OpenLibrary search with title/author filtering and full-text focus","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-26T20:06:29.009705956+02:00","updated_at":"2025-11-26T20:14:35.934736506+02:00","closed_at":"2025-11-26T20:14:35.934736506+02:00"}
{"id":"tocoe-wv0","title":"Don't show the 'attempt auto-match' button in the Toc form for the new action, only for later edit.","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T20:19:53.827828287+02:00","updated_at":"2025-11-27T20:22:31.509531842+02:00","closed_at":"2025-11-27T20:22:31.509531842+02:00"}
{"id":"tocoe-ybk","title":"Fix OpenLibrary edition key access in search results","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-26T20:27:23.966062498+02:00","updated_at":"2025-11-26T20:29:46.000588517+02:00","closed_at":"2025-11-26T20:29:46.000588517+02:00"}
{"id":"tocoe-zki","title":"fix the _author partial","description":"it currently crashes because it assume the author hash has OpenLibrary data. We need to support the Project Gutenberg case, and ideally prepare for future sources too. Better to create a standardized key and ensure we populate it from both Open Library and Project Gutenberg sources.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-27T18:10:42.883587613+02:00","updated_at":"2025-11-27T18:14:42.223555748+02:00","closed_at":"2025-11-27T18:14:42.223555748+02:00"}
